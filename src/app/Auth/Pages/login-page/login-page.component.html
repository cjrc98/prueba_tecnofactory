<app-loader [visible]="loading()"></app-loader>
@if(isError()){
<app-modal-error [isModalOpen]="isError()" (closeModal)="isError.set($event)">
</app-modal-error>
}

<article class="flex items-center justify-center min-h-screen bg-gray-100">
  <div
    class="relative flex flex-col m-6 space-y-8 bg-white shadow-2xl rounded-2xl md:flex-row md:space-y-0"
  >
    <div class="flex flex-col justify-center p-8 md:p-14">
      <span class="mb-3 text-4xl font-bold">Bienvenido de Nuevo</span>
      <span class="font-light text-gray-400 mb-8">
        Bienvenido! Por favor ingresa tus datos.
      </span>
      <form
        autocomplete="off"
        [formGroup]="form"
        class="mx-auto w-full max-w-lg px-4"
        (ngSubmit)="submit()"
      >
        <div class="py-4">
          <span class="mb-2 text-md">Email</span>
          <input
            type="email"
            formControlName="email"
            class="w-full p-2 border border-gray-300 rounded-md placeholder:font-light placeholder:text-gray-500"
            placeholder="tu@email.com"
          />
          @if (email?.touched && email?.invalid){
          <div class="text-red-500 text-sm mt-1">
            @if(email?.errors?.['required']){
            <p>El correo es requerido.</p>
            } @if(email?.errors?.['email']){
            <p>Formato de correo inválido.</p>
            }
          </div>
          }
        </div>
        <div class="py-4">
          <span class="mb-2 text-md">Contraseña</span>
          <input
            type="password"
            formControlName="pass"
            class="w-full p-2 border border-gray-300 rounded-md placeholder:font-light placeholder:text-gray-500"
            placeholder="******"
          />
          @if(pass?.touched && pass?.invalid){
          <div class="text-red-500 text-sm mt-1">
            @if (pass?.errors?.['required']) {
            <p>La contraseña es requerida.</p>
            } @if (pass?.errors?.['minlength']){
            <p>Mínimo 6 caracteres.</p>
            }
          </div>
          }
        </div>

        <button
          [disabled]="form.invalid || loading()"
          class="w-full p-2 rounded-lg mb-6 cursor-pointer bg-black text-white hover:bg-white hover:text-black hover:border hover:border-gray-300 disabled:bg-gray-400 disabled:text-gray-200 disabled:cursor-not-allowed disabled:hover:bg-gray-400 disabled:hover:text-gray-200 disabled:hover:border-none"
        >
          Enviar
        </button>

        <div
          routerLink="/register"
          class="cursor-pointer text-center text-gray-400"
        >
          No tienes cuenta?
          <span class="font-bold text-black">Registrarse</span>
        </div>
      </form>
    </div>
    <div class="relative">
      <img
        src="https://res.cloudinary.com/superlikers/image/upload/v1754638798/login_image_b0civz.png"
        alt="img"
        class="w-100 h-full hidden rounded-r-2xl md:block object-cover"
      />
      <!-- text on image  -->
      <!-- <div
            class="absolute hidden bottom-10 right-6 p-6 bg-white bg-opacity-30 backdrop-blur-sm rounded drop-shadow-lg md:block"
          >
            <span class="text-white text-xl"
              >We've been uesing Untitle to kick"<br />start every new project
              and can't <br />imagine working without it."
            </span>
          </div> -->
    </div>
  </div>
</article>
