<div class="p-6">
  @if (comic() && !isLoading()) {
    <div class="flex flex-col md:flex-row gap-6">
      <img
        [src]="comic()?.image"
        [alt]="comic()?.title"
        class="w-full md:w-1/3 rounded shadow"
      />

      <div class="flex-1">
        <h1 class="text-3xl font-bold mb-4">{{ comic()?.title }}</h1>

        @if (comic()?.description?.trim()) {
          <p class="text-gray-600 mb-4 whitespace-pre-wrap">
            {{ comic()?.description }}
          </p>
        }

        @if (comic()?.onsaleDate) {
          <p class="text-sm text-gray-500 mb-2">
            Fecha de publicación: {{ comic()?.onsaleDate | date: 'longDate' }}
          </p>
        }

        @if (comic()?.price !== undefined) {
          <p class="price text-xl mb-4">
            Precio: ${{ comic()?.price?.toFixed(2) }}
          </p>
        }
 
        @if (comic()?.creators?.length) {
          <div class="mb-4">
            <h3 class="text-lg font-semibold">Autores:</h3>
            <ul class="list-disc pl-6">
              @for (creator of comic()?.creators; track creator.name) {
                <li>{{ creator.name }} ({{ creator.role }})</li>
              }
            </ul>
          </div>
        }

        @if (comic()?.characters?.length) {
          <div class="mb-4">
            <h3 class="text-lg font-semibold">Personajes:</h3>
            <ul class="list-disc pl-6">
              @for (character of comic()?.characters; track character) {
                <li>{{ character }}</li>
              }
            </ul>
          </div>
        }

       <button class="btn-details" (click)="toggleFavorite()">
  {{ isFavorite() ? 'Quitar de favoritos' : 'Agregar a favoritos' }}
</button>
      </div>
    </div>
  } @else if (isLoading()) {
    <div class="p-6 text-center text-gray-500">Cargando cómic...</div>
  } @else {
    <div class="p-6 text-center text-red-500">Cómic no encontrado.</div>
  }
</div>
 